# SpinUp Installation Guide

SpinUp is designed to be as easy to install as WordPress. Follow these simple steps to get your game server management platform running.

## Prerequisites

- **A server** with Ubuntu 20.04+ or Debian 11+
- **Docker** installed and running
- **Node.js** 18+ and pnpm
- **PostgreSQL** 14+ running locally or remotely
- **Redis** running locally or remotely
- **A domain name** (optional, but recommended for production)

## Quick Install (3 Steps)

### 1. Clone and Install Dependencies

```bash
# Clone the repository
git clone https://github.com/yourusername/spinup.git
cd spinup

# Install dependencies
pnpm install
```

### 2. Start the Services

```bash
# Start PostgreSQL and Redis (if using Docker)
docker run -d --name spinup-postgres \
  -e POSTGRES_USER=spinup \
  -e POSTGRES_PASSWORD=spinup \
  -e POSTGRES_DB=spinup \
  -p 5432:5432 \
  postgres:14

docker run -d --name spinup-redis \
  -p 6379:6379 \
  redis:7

# Start SpinUp in development mode
pnpm dev
```

### 3. Complete Web Setup

Open your browser and navigate to:
```
http://localhost:8080/api/setup
```

You'll see a **WordPress-style setup wizard** where you enter:
- Your web URL (e.g., `https://spinup.yourdomain.com`)
- Your API URL (e.g., `https://api.spinup.yourdomain.com`)
- Database connection string
- Discord Bot credentials (optional - can be added later)

That's it! SpinUp will:
- ‚úÖ Generate secure secrets automatically
- ‚úÖ Create your `.env` file
- ‚úÖ Initialize the database
- ‚úÖ Set up your first admin user
- ‚úÖ Redirect you to the dashboard

## Production Deployment

### Using Caddy (Recommended)

1. Install Caddy:
```bash
sudo apt install -y debian-keyring debian-archive-keyring apt-transport-https
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/gpg.key' | sudo gpg --dearmor -o /usr/share/keyrings/caddy-stable-archive-keyring.gpg
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt' | sudo tee /etc/apt/sources.list.d/caddy-stable.list
sudo apt update
sudo apt install caddy
```

2. Create Caddyfile at `/etc/caddy/Caddyfile`:
```caddy
# SpinUp Web App
yourdomain.com {
    # Proxy API requests to the API server
    handle /api/* {
        reverse_proxy localhost:8080
    }

    # Proxy everything else to the web app (or use root for production build)
    handle {
        reverse_proxy localhost:5173  # Dev server
        # OR for production: root * /var/www/spinup/apps/web/dist
        # file_server
    }
}

# SpinUp API (optional separate subdomain)
api.yourdomain.com {
    reverse_proxy localhost:8080
}
```

3. Reload Caddy:
```bash
sudo systemctl reload caddy
```

4. Visit the setup wizard:
```
https://yourdomain.com/api/setup
```

### Using Docker Compose (Coming Soon)

We're working on a Docker Compose setup for even easier deployment!

## Environment Variables

After running the setup wizard, SpinUp creates a `.env` file with all necessary configuration. You can manually edit this file if needed:

```env
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/spinup

# API Configuration
API_PORT=8080
API_URL=https://api.yourdomain.com

# Web Configuration
WEB_ORIGIN=https://yourdomain.com
VITE_PORT=5173
VITE_API_URL=  # Leave empty to use proxy in development

# Discord Bot (Optional)
DISCORD_TOKEN=your_bot_token
DISCORD_CLIENT_ID=your_client_id
DISCORD_CLIENT_SECRET=your_client_secret

# Secrets (auto-generated by setup)
API_JWT_SECRET=auto_generated_secret
SERVICE_TOKEN=auto_generated_secret
POSTGRES_PASSWORD=auto_generated_password
```

## Troubleshooting

### Setup wizard not loading?

Make sure the API server is running:
```bash
cd /var/www/spinup
pnpm dev:api
```

### Database connection issues?

Verify PostgreSQL is running:
```bash
docker ps | grep postgres
# OR
sudo systemctl status postgresql
```

### Port already in use?

Change the ports in your `.env` file:
```env
API_PORT=8081  # Instead of 8080
VITE_PORT=5174  # Instead of 5173
```

## Next Steps

After installation:
1. **Set up Discord Bot** (optional) - See [Discord Integration Guide](./docs/discord-setup.md)
2. **Configure game templates** - Add your favorite games
3. **Invite your team** - Share magic links with your friends
4. **Create your first server** - Deploy in minutes!

## Support

- üìñ [Documentation](./README.md)
- üêõ [Report Issues](https://github.com/yourusername/spinup/issues)
- üí¨ [Discord Community](https://discord.gg/yourinvite)

---

**That's it!** SpinUp should now be running and ready to manage your game servers. Enjoy! üöÄ
